# Распределенный Вычислитель PageRank

Это учебный проект, демонстрирующий реализацию распределенного вычисления PageRank для графов. Система состоит из трех основных компонентов: клиентское UI-приложение на .NET MAUI, центральный планировщик (Scheduler) и несколько удаленных решателей (Solvers).

## Описание проекта

Проект позволяет визуализировать графы, создавать их вручную или загружать из файла, а затем отправлять на распределенное вычисление алгоритма PageRank. Планировщик декомпозирует задачу и распределяет вычислительную нагрузку между несколькими решателями, работающими параллельно. Результаты собираются, агрегируются и отправляются обратно клиенту для визуализации "важности" каждого узла.

### Основные возможности

*   **Интерактивный визуализатор графов:**
    *   Создание узлов и направленных связей "на лету".
    *   Перемещение узлов для удобного расположения.
    *   Визуализация ранга каждого узла цветом и числовым значением.
*   **Два способа ввода данных:**
    *   Ручное создание небольших графов.
    *   Загрузка больших графов из текстового файла.
*   **Распределенные вычисления:**
    *   Архитектура "Планировщик-Решатель" (Master-Worker).
    *   Связь между компонентами по протоколу TCP.
    *   Возможность горизонтального масштабирования путем добавления новых решателей.
*   **Сохранение результатов:**
    *   Экспорт вычисленных рангов в CSV-файл для дальнейшего анализа.
*   **Настраиваемое подключение:**
    *   Возможность указать IP-адрес и порт планировщика прямо в интерфейсе.

## Архитектура

Система состоит из четырех проектов в одном решении:

1.  **`PageRank.Maui`**: Клиентское приложение на .NET 9.0 MAUI. Предоставляет пользовательский интерфейс для работы с графом.
2.  **`PageRank.Scheduler`**: Консольное приложение, играющее роль центрального координатора. Принимает граф, распределяет задачи решателям, собирает результаты.
3.  **`PageRank.Solver`**: Консольное приложение-решатель. Выполняет вычисления для своей части графа. Может быть запущено в нескольких экземплярах на разных машинах.
4.  **`PageRank.Shared`**: Общая библиотека классов с моделями данных (граф, узел, ребро) и сетевым протоколом.

**Схема взаимодействия:**
```
.NET MAUI (Клиент) <--> TCP <--> Планировщик <--> TCP <--> Решатель 1
                                             <--> TCP <--> Решатель 2
                                             <--> TCP <--> ...
```

## Технологический стек

*   **Платформа:** .NET 9.0
*   **UI:** .NET MAUI
*   **Сетевое взаимодействие:** `System.Net.Sockets` (TCP)
*   **Сериализация:** `System.Text.Json`
*   **UI-фреймворк:** .NET MAUI Community Toolkit (для `Expander`)

## Как запустить

### Предварительные требования

*   [.NET 9 SDK](https://dotnet.microsoft.com/download/dotnet/9.0)
*   Visual Studio 2022 с установленной рабочей нагрузкой ".NET Multi-platform App UI development".

### Порядок запуска

1.  **Склонируйте репозиторий:**
    ```bash
    git clone https://github.com/your-username/your-repository.git
    ```
2.  **Откройте решение** (`.sln` файл) в Visual Studio.
3.  **Соберите проект** (Build -> Build Solution), чтобы восстановить все NuGet-пакеты.

4.  **Запустите Планировщик:**
    *   Кликните правой кнопкой мыши по проекту `PageRank.Scheduler` в Solution Explorer и выберите `Set as Startup Project`.
    *   Запустите проект (F5 или Ctrl+F5).
    *   Откроется консольное окно с сообщением `Scheduler is running on port 8888...`. **Не закрывайте его.**

5.  **Запустите Решатели:**
    *   Кликните правой кнопкой мыши по проекту `PageRank.Solver` и выберите `Set as Startup Project`.
    *   Запустите проект (Ctrl+F5 - запуск без отладки). Откроется консоль решателя.
    *   Чтобы запустить несколько решателей, вы можете запустить `PageRank.Solver.exe` из папки `bin/Debug/net9.0` несколько раз или настроить множественный запуск в Visual Studio.
    *   Каждый решатель подключится к планировщику.

6.  **Запустите MAUI-клиент:**
    *   Кликните правой кнопкой мыши по проекту `PageRank.Maui` и выберите `Set as Startup Project`.
    *   Выберите целевую платформу (например, `Windows Machine`).
    *   Запустите проект (F5).
    *   Откроется окно приложения.

## Использование приложения

1.  **Создайте граф:** Используйте кнопки "Добавить узел" и "Добавить связь" на панели управления.
2.  **Или загрузите граф:** Нажмите "Загрузить из файла" и выберите текстовый файл.
    *   **Формат файла:** Каждая строка должна содержать два числа, разделенных пробелом, — ID исходного и целевого узла.
      ```
      0 1
      1 2
      2 0
      ```
3.  **Настройте подключение (если нужно):** В секции "Настройки подключения" можно изменить IP-адрес и порт планировщика. По умолчанию `127.0.0.1:8888`.
4.  **Рассчитайте PageRank:** Нажмите большую зеленую кнопку "Рассчитать PageRank".
5.  **Анализируйте результат:** Ранги узлов обновятся на холсте. Узлы с более высоким рангом будут иметь более теплый цвет.
6.  **Сохраните результат:** После успешного расчета станет активной кнопка "Сохранить результат", которая экспортирует ранги в `.csv` файл.
